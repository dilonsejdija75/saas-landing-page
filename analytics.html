<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Analytics — Boostly</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="index.html">Boostly</a>
      <nav class="nav">
        <a href="dashboard.html">Dashboard</a>
        <a href="flows.html">Flows</a>
        <a href="analytics.html">Analytics</a>
        <a href="settings.html">Settings</a>
        <div style="margin-left: auto; display: flex; align-items: center; gap: 1rem;">
          <span style="color: var(--muted); font-size: 0.9rem;">Trial: 13 days left</span>
          <div style="display: flex; align-items: center; gap: 0.5rem;">
            <div style="width: 32px; height: 32px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.9rem;">JD</div>
            <a class="btn btn-ghost btn-sm" href="index.html">Logout</a>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <main style="padding: 2rem 0;">
    <div class="container">
      <div style="margin-bottom: 3rem;">
        <h1>Analytics Dashboard</h1>
        <p style="color: var(--muted);">Track your conversion performance and user engagement</p>
      </div>

      <!-- Time Period Selector -->
      <div style="margin-bottom: 2rem;">
        <select id="timePeriod" style="padding: 0.5rem; border: 1px solid var(--border); border-radius: var(--radius-sm);">
          <option value="7">Last 7 days</option>
          <option value="30" selected>Last 30 days</option>
          <option value="90">Last 90 days</option>
        </select>
      </div>

      <!-- Key Metrics -->
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
        <div style="background: white; padding: 2rem; border-radius: var(--radius); border: 1px solid var(--border); text-align: center;">
          <div style="font-size: 2.5rem; font-weight: 800; color: var(--primary); margin-bottom: 0.5rem;">2,847</div>
          <div style="color: var(--muted);">Total Visitors</div>
          <div style="color: var(--success); font-size: 0.9rem; margin-top: 0.5rem;">↗ +12% vs last period</div>
        </div>
        <div style="background: white; padding: 2rem; border-radius: var(--radius); border: 1px solid var(--border); text-align: center;">
          <div style="font-size: 2.5rem; font-weight: 800; color: var(--primary); margin-bottom: 0.5rem;">7.2%</div>
          <div style="color: var(--muted);">Conversion Rate</div>
          <div style="color: var(--success); font-size: 0.9rem; margin-top: 0.5rem;">↗ +2.1% vs last period</div>
        </div>
        <div style="background: white; padding: 2rem; border-radius: var(--radius); border: 1px solid var(--border); text-align: center;">
          <div style="font-size: 2.5rem; font-weight: 800; color: var(--primary); margin-bottom: 0.5rem;">205</div>
          <div style="color: var(--muted);">Conversions</div>
          <div style="color: var(--success); font-size: 0.9rem; margin-top: 0.5rem;">↗ +18 vs last period</div>
        </div>
        <div style="background: white; padding: 2rem; border-radius: var(--radius); border: 1px solid var(--border); text-align: center;">
          <div style="font-size: 2.5rem; font-weight: 800; color: var(--primary); margin-bottom: 0.5rem;">£16,195</div>
          <div style="color: var(--muted);">Revenue Impact</div>
          <div style="color: var(--success); font-size: 0.9rem; margin-top: 0.5rem;">↗ +£1,420 vs last period</div>
        </div>
      </div>

      <!-- Charts Section -->
      <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; margin-bottom: 3rem;">
        
        <!-- Conversion Trend -->
        <div style="background: white; padding: 2rem; border-radius: var(--radius); border: 1px solid var(--border);">
          <h3>Conversion Trend</h3>
          <div id="live-chart" style="height: 350px; background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%); border-radius: var(--radius); padding: 2rem; margin-top: 1rem; position: relative; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); border: 1px solid rgba(255,255,255,0.8);">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
              <div>
                <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600; color: #1f2937;">Real-time Conversion Rate</h4>
                <p style="margin: 0.25rem 0 0 0; font-size: 0.85rem; color: var(--muted);">Updated every 30 seconds</p>
              </div>
              <div style="display: flex; align-items: center; gap: 1rem;">
                <div id="current-rate" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">7.2%</div>
                <span id="live-indicator" style="font-size: 0.8rem; color: var(--success); display: flex; align-items: center; gap: 0.5rem; background: rgba(16, 185, 129, 0.1); padding: 0.25rem 0.75rem; border-radius: 12px;">
                  <div style="width: 6px; height: 6px; background: var(--success); border-radius: 50%; animation: pulse 2s infinite;"></div>
                  LIVE
                </span>
              </div>
            </div>
            <div style="position: relative; height: 200px; margin-bottom: 1rem;">
              <div style="position: absolute; left: 0; top: 0; bottom: 0; width: 1px; background: #e5e7eb;"></div>
              <div style="position: absolute; left: 0; bottom: 0; right: 0; height: 1px; background: #e5e7eb;"></div>
              <div id="chart-bars" style="height: 100%; position: relative; display: flex; align-items: end; gap: 2px; padding: 0 1rem;"></div>
            </div>
            <div style="display: flex; justify-content: space-between; margin-top: 1rem; font-size: 0.75rem; color: var(--muted);">
              <span>30 min ago</span>
              <span>15 min</span>
              <span>Now</span>
            </div>
          </div>
        </div>

        <!-- Top Flows -->
        <div style="background: white; padding: 2rem; border-radius: var(--radius); border: 1px solid var(--border);">
          <h3>Top Performing Flows</h3>
          <div style="margin-top: 1rem;">
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; border-bottom: 1px solid var(--border);">
              <div>
                <div style="font-weight: 600;">Welcome Flow</div>
                <div style="color: var(--muted); font-size: 0.9rem;">1,234 views</div>
              </div>
              <div style="color: var(--success); font-weight: 600;">8.5%</div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; border-bottom: 1px solid var(--border);">
              <div>
                <div style="font-weight: 600;">Upgrade Prompt</div>
                <div style="color: var(--muted); font-size: 0.9rem;">892 views</div>
              </div>
              <div style="color: var(--success); font-weight: 600;">12.3%</div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem;">
              <div>
                <div style="font-weight: 600;">Feature Tour</div>
                <div style="color: var(--muted); font-size: 0.9rem;">567 views</div>
              </div>
              <div style="color: var(--success); font-weight: 600;">6.1%</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Detailed Analytics -->
      <div style="background: white; padding: 2rem; border-radius: var(--radius); border: 1px solid var(--border);">
        <h3>Flow Performance Details</h3>
        <div style="overflow-x: auto; margin-top: 1rem;">
          <table style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr style="border-bottom: 2px solid var(--border);">
                <th style="text-align: left; padding: 1rem;">Flow Name</th>
                <th style="text-align: right; padding: 1rem;">Views</th>
                <th style="text-align: right; padding: 1rem;">Conversions</th>
                <th style="text-align: right; padding: 1rem;">Rate</th>
                <th style="text-align: right; padding: 1rem;">Revenue</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-bottom: 1px solid var(--border);">
                <td style="padding: 1rem;">Welcome Flow</td>
                <td style="text-align: right; padding: 1rem;">1,234</td>
                <td style="text-align: right; padding: 1rem;">105</td>
                <td style="text-align: right; padding: 1rem; color: var(--success);">8.5%</td>
                <td style="text-align: right; padding: 1rem;">£8,295</td>
              </tr>
              <tr style="border-bottom: 1px solid var(--border);">
                <td style="padding: 1rem;">Upgrade Prompt</td>
                <td style="text-align: right; padding: 1rem;">892</td>
                <td style="text-align: right; padding: 1rem;">110</td>
                <td style="text-align: right; padding: 1rem; color: var(--success);">12.3%</td>
                <td style="text-align: right; padding: 1rem;">£8,690</td>
              </tr>
              <tr>
                <td style="padding: 1rem;">Feature Tour</td>
                <td style="text-align: right; padding: 1rem;">567</td>
                <td style="text-align: right; padding: 1rem;">35</td>
                <td style="text-align: right; padding: 1rem; color: var(--success);">6.1%</td>
                <td style="text-align: right; padding: 1rem;">£2,765</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>

  <script>
    document.getElementById('timePeriod').addEventListener('change', function() {
      alert(`Updating analytics for ${this.options[this.selectedIndex].text}...`);
    });

    // Live chart animation
    function updateChart() {
      const chartBars = document.getElementById('chart-bars');
      const currentRate = document.getElementById('current-rate');
      const bars = [];
      let totalRate = 0;
      
      for (let i = 0; i < 60; i++) {
        const baseHeight = 40 + Math.sin(i * 0.1) * 20;
        const variation = (Math.random() - 0.5) * 30;
        const height = Math.max(10, Math.min(90, baseHeight + variation));
        const opacity = i > 50 ? 1 : 0.6 + (i / 50) * 0.4;
        
        bars.push(`<div style="flex: 1; background: linear-gradient(180deg, #667eea 0%, #764ba2 100%); height: ${height}%; border-radius: 1px 1px 0 0; opacity: ${opacity}; transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 1px 3px rgba(102, 126, 234, 0.3);"></div>`);
        
        if (i > 50) totalRate += height;
      }
      
      const avgRate = (totalRate / 10 * 0.12).toFixed(1);
      currentRate.textContent = avgRate + '%';
      chartBars.innerHTML = bars.join('');
    }

    // Update chart every 5 seconds for more realistic feel
    setInterval(updateChart, 5000);
    updateChart();

    // Add pulse animation
    const style = document.createElement('style');
    style.textContent = '@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }';
    document.head.appendChild(style);
  </script>
</body>
</html>